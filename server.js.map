{"version":3,"sources":["src/index.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA;AACA,IAAI,MAAM,wBAAV;;AAEA;AACA,IAAI,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEA;AACA,IAAI,GAAJ,CAAQ,qBAAR;;AAEA;AACA,IAAI,GAAJ,CAAQ,MAAR,EAAgB,QAAQ,GAAR,CAAY,qBAAZ,IAAqC,IAArD;AACA,IAAI,GAAJ,CAAQ,IAAR,EAAc,QAAQ,GAAR,CAAY,mBAAZ,IAAmC,WAAjD;AACA,IAAI,GAAJ,CAAQ,MAAR,EAAgB,2CAAhB;;AAEA;AACA,IAAI,GAAJ,CAAQ,GAAR,EAAa,UAAC,GAAD,EAAM,GAAN,EAAc;AACzB,MAAI,QAAJ,CAAa,IAAI,GAAJ,CAAQ,MAAR,CAAb;AACD,CAFD;;AAIA;AACA,IAAI,GAAJ,CAAQ,SAAR,EAAmB,UAAC,GAAD,EAAM,GAAN,EAAc;AAC/B,MAAI,QAAQ,IAAI,MAAJ,CAAW,KAAX,CAAiB,OAAjB,CAAyB,IAAzB,EAA8B,EAA9B,CAAZ;AACA,yBAAO,aAAP,CAAqB,KAArB,EAA4B,UAAS,QAAT,EAAmB;AAC7C,QAAI,SAAJ,CAAc,eAAd,EAA+B,uBAA/B,EAD6C,CACY;AACzD,QAAI,IAAJ,CAAS,QAAT;AACD,GAHD;AAID,CAND;;AAQA;AACA,IAAI,MAAJ,CAAW,IAAI,GAAJ,CAAQ,MAAR,CAAX,EAA4B,IAAI,GAAJ,CAAQ,IAAR,CAA5B,EAA2C,YAAM;AAC/C,SAAO,QAAQ,GAAR,CAAY,kBAAkB,IAAI,GAAJ,CAAQ,MAAR,CAAlB,GAAoC,gCAAhD,CAAP;AACD,CAFD;;kBAIe,G","file":"server.js","sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport morgan from 'morgan';\nimport sinesp from 'sinesp-nodejs';\n\n// declare app\nlet app = express();\n\n// logger\napp.use(morgan('dev'));\n\n// 3rd party middleware\napp.use(cors());\n\n// set constants\napp.set('port', process.env.OPENSHIFT_NODEJS_PORT || 8080);\napp.set('ip', process.env.OPENSHIFT_NODEJS_IP || '127.0.0.1');\napp.set('site', 'https://github.com/wgenial/consulta-placa');\n\n// default and redirect to github project\napp.get(\"/\", (req, res) => {\n  res.redirect(app.get('site'));\n});\n\n// get plate info\napp.get(\"/:plate\", (req, res) => {\n  let plate = req.params.plate.replace(/-/g,'');\n  sinesp.consultaPlaca(plate, function(response) {\n    res.setHeader('Cache-Control', 'public, max-age=86400'); // 1 day\n    res.json(response);\n  });\n});\n\n// start server\napp.listen(app.get('port'), app.get('ip'), () => {\n  return console.log(\"Listening on \" + app.get('port') + \"\\nPress CTRL-C to stop server.\");\n});\n\nexport default app;"]}